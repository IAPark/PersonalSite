<link rel="import" href="../bower_components/polymer/polymer.html">
<script type="text/javascript" src="../bower_components/jquery/dist/jquery.js"></script>
<script type="text/javascript" src="../bower_components/materialize/dist/js/materialize.js"></script>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<script>
    $(document).ready(function() {
        $(".button-collapse").sideNav();
    });
</script>

<dom-module id="main-menu">
    <template>
        <nav>
            <div class="nav-wrapper">

                <a href="" class="brand-logo">{{title}}</a>

                <a href="#" data-activates="side-bar" class="button-collapse"><i class="material-icons">menu</i></a>

                <ul class="right hide-on-med-and-down">
                    <template is="dom-repeat" items="{{links}}">
                        <li class$="{{activate(item.link)}}"><a href="{{item.link}}">{{item.text}}</a></li>
                    </template>
                </ul>

                <ul class="side-nav" id="side-bar">
                    <template is="dom-repeat" items="{{links}}">
                        <li class$="{{activate(item.link)}}"><a href="{{item.link}}">{{item.text}}</a></li>
                    </template>
                </ul>
            </div>
        </nav>
    </template>

    <script>

        Polymer({
            is: 'main-menu',
            properties: {
                // an array of objects representing options in the menu, should have link and text strigns
                links: {
                    type: Array,
                    value: [
                        {
                            link: "/",
                            text: "Home"
                        },
                        {
                            link: "/education.html",
                            text: "Education"
                        },
                        {
                            link: "/projects.html",
                            text: "Projects"
                        }
                    ]
                },
                title: {
                    type: String,
                    value: "Isaac Park"
                }
            },
            activate: function (link) {
                if (window.location.pathname === link) {
                    return "active";
                }
                else {
                    return "";
                }
            }

        });
    </script>
</dom-module>